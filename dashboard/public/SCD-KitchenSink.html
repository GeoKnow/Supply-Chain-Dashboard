<!DOCTYPE html>

<html>
    <head>
        <title>Suply Chain Kitchen Sink</title>
        <script src="http://code.jquery.com/jquery-2.1.4.min.js" type="text/javascript"></script>
    </head>
    <body>

      <script type="text/javascript">
        var addOrder = function(supplierId, connectionId, dueParts) {
          $('#orders').append("<p><a href=\"#\" onclick=\"loadMetrics('"+supplierId+"')\">"+supplierId+"</a> "+connectionId+" "+dueParts+"</p>");
        }

        var addShipping = function(supplierId, connectionId, dueParts) {
          $('#shippings').append("<p><a href=\"#\" onclick=\"loadMetrics('"+supplierId+"')\">"+supplierId+"</a> "+connectionId+" "+dueParts+"</p>");
        }

        var loadMetrics = function(supplierId) {
          $.get("/metrics?supplierId=" + supplierId, function(data) {
            console.log(data);
          })
        }

        var refreshMetrics = function() {
          console.log("refreshMetrics");
        }

          // Single step through the simulation
          var step = function() {
            $.post('/simulator/step');
          }
      </script>
      <iframe src="/deliveryStream" frameborder="0"></iframe>
      <p><button onclick="step()">Step</button></p>
      <div id="content">
        <div id="orders"><strong>Orders:</strong><br /></div>
        <div id="shippings"><strong>Shippings:</strong><br /></div>
        <div id="metrics"></div>
      </div>
    </body>
</html>
